---
title: "Ch1 data visualization with ggplot2"
output: html_document
date: "2023-04-24"
---


Import \> tidy \> transform, visualize, model \> communicate

-   ggplot2 \> implements the grammar of graphics, building graph

```{bash}
library(tidyverse)
```

**First step**
- do cars with big engines use more fuel than cars with small engines?
(what does the relationship between engine size and fuel efficiency look)

```{r}
ggplot2::mpg
```

- displ > car engine size in liters 
- hwy > car fuel efficiency on highway in mpg

You can add 
```{r}
?mpg
```

to open help page to get more info

**Creating pplot**

```{r}
ggplot(data = mpg) +
  geom_point(mapping = aes(x = displ, y = hwy))
```

The plot above shows a negative relationship between the size(displ)and fuel efficiency(hwy)
> therefore, cars with big engines use more fuel 

*how to begin a ggplot2*
- ggplot() will create a coordinate system to add layers too 
- ggplot(data=) will create an empty plot, also the first argument for the plot 
- geom_point() is a function that adds a layer of points to the plot, this is a scatterplot
- geom will take mappings argument that will define how variables are mapped to visual properties 
- geom is always paired with aes() that tells which variables to map to x and y axis

**graphing template**

```{r}
ggplot(data = <DATA>) +
  <GEOM_FUNCTION>(mapping = aes(<MAPPINGS>))
```

**exercise**

plot hwy against cly 
```{r}
ggplot(data=mpg)+ geom_point(mapping = aes(x=hwy, y=cyl))
```

- use ?mpg to find out what variable means what

**aesthetic mapping**

https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781491910382/files/assets/rfds_01in02.png
- one group of points are outliers 
- we can test if the cars are hybrids. look at class value for each car. we can add a third value by mapping to an aesthetic

- an *aesthetic* is a visual property that includes, size, shape, or color 

- we can use level to describe aesthetic properties 

```{r}
ggplot(data = mpg) +
  geom_point(mapping = aes(x = displ, y = hwy, color = class))

```

- we can map the colors of the class variables 
- *aesthetic to aes()* 
- ggplot2 will assign a level of aesthetic to each value > scaling 

- we can map class to size as well
- or we can map class to *alpha* aesthetic that controls transparency of the points

```{r}
Top
ggplot(data = mpg) +
  geom_point(mapping = aes(x = displ, y = hwy, alpha = class))

# Bottom
ggplot(data = mpg) +
  geom_point(mapping = aes(x = displ, y = hwy, shape = class))
```

- ggplot2 only use 6 shapes at a time so any additional groups will go unplotted using this aesthetic

- you can set aesthetic properties of geom, ie, making all points blue 
```{r}
ggplot(data = mpg) +
  geom_point(mapping = aes(x = displ, y = hwy), color = "blue")
```
- this will go outside of aes()